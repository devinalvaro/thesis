% Tools
\usepackage{etoolbox}

% Mathematics
\usepackage{mathptmx}
\usepackage[binary-units=true]{siunitx}

% Input encodings
\usepackage[utf8]{inputenc}

% Languages
\usepackage[bahasa,english]{babel}

% Margins
\usepackage[top=3.0cm,bottom=3.0cm,left=4.0cm,right=3.0cm]{geometry}

% Line spacing
\usepackage{setspace}

\renewcommand{\arraystretch}{1.25}
\renewcommand{\baselinestretch}{1.5}

% Paragraphs
\usepackage{parskip}

% Headings
\usepackage{sectsty}
\usepackage{titlesec}
\usepackage{titling}

\titleformat{\chapter}[display]
    {\large\centering\bfseries}
    {\chaptertitlename\ \thechapter}{0pt}
        {\large\bfseries\uppercase}
\titlespacing*{\chapter}{0pt}{-25pt}{40pt}

% Sections
\setcounter{secnumdepth}{4}

\titleformat*{\section}{\normalsize\bfseries}
\titleformat*{\subsection}{\normalsize\bfseries}
\titleformat*{\subsubsection}{\normalsize\bfseries}

\titlespacing*{\section}{0pt}{2.5ex plus 1ex minus .2ex}{1.3ex plus .2ex}
\titlespacing*{\subsection}{0pt}{2.25ex plus 1ex minus .2ex}{0.5ex plus .2ex}
\titlespacing*{\subsubsection}{0pt}{2.25ex plus 1ex minus .2ex}{0.5ex plus .2ex}

% Table of contents
\usepackage[hidelinks]{hyperref}
\usepackage{tocbibind}

\makeatletter
\def\@chapter[#1]#2{
    \ifnum \c@secnumdepth > \m@ne
        \refstepcounter{chapter}
        \typeout{\@chapapp\space\thechapter.}
        \addcontentsline{toc}{chapter}
        {\protect{BAB \numberline{\thechapter}\texorpdfstring{\uppercase{#1}}{#1}}}
    \else
        \addcontentsline{toc}{chapter}{\texorpdfstring{\uppercase{#1}}{#1}}
    \fi
    \chaptermark{#1}
    \addtocontents{lof}{\protect\addvspace{10\p@}}
    \addtocontents{lot}{\protect\addvspace{10\p@}}
    \if @twocolumn
        \@topnewpage[\@makechapterhead{#2}]
    \else
        \@makechapterhead{#2}
        \@afterheading
    \fi}
\makeatother

% Citations
\usepackage{nameref}
\usepackage[numbers]{natbib}

\bibliographystyle{abbrvnat}
\setcitestyle{authoryear,round}

% Floats
\setlength{\intextsep}{0.5cm}

% Figures
\usepackage{graphicx}

% Listings
\usepackage{color}
\usepackage{listings}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{codebackground}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{codestyle}{
    backgroundcolor=\color{codebackground},
    basicstyle=\linespread{1.15}\footnotesize\ttfamily,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    commentstyle=\color{codegreen},
    keepspaces=true,
    keywordstyle=\color{magenta},
    numbers=left,
    numbersep=4pt,
    numberstyle=\tiny\color{codegray},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    stringstyle=\color{codepurple},
    tabsize=2,
}
\lstset{style=codestyle}

% Captions
\usepackage{caption}

\captionsetup{justification=centering}

% Enumerations
\usepackage{enumitem}
